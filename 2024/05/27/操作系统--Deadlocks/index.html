<!-- build time:Sun Jul 28 2024 03:17:11 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Blog" href="http://smallcjy.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Blog" href="http://smallcjy.github.io/atom.xml"><link rel="alternate" type="application/json" title="Blog" href="http://smallcjy.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="操作系统"><link rel="canonical" href="http://smallcjy.github.io/2024/05/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--Deadlocks/"><title>操作系统--Deadlocks | SmallC = Blog</title><meta name="generator" content="Hexo 7.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">操作系统--Deadlocks</h1><div class="meta"><span class="item" title="Created: 2024-05-27 10:48:31"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2024-05-27T10:48:31+08:00">2024-05-27</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">SmallC</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWxFe.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWqL6.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWTzR.jpg"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWjoD.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWHQ1.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWXdO.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://smallcjy.github.io/2024/05/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--Deadlocks/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Cai Junyuan"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Blog"></span><div class="body md" itemprop="articleBody"><h2 id="1-&#x8D44;&#x6E90;resources"><a class="anchor" href="#1-&#x8D44;&#x6E90;resources">#</a> 1 &#x8D44;&#x6E90; Resources</h2><h3 id="11preemptable-resource"><a class="anchor" href="#11preemptable-resource">#</a> 1.1Preemptable Resource</h3><p>&#x53EF;&#x62A2;&#x5360;&#x5F0F;&#x8D44;&#x6E90;&#x8FD9;&#x7C7B;&#x8D44;&#x6E90;&#x88AB;&#x62A2;&#x5360;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x8FD0;&#x884C;&#x3002;<br>&#x6BD4;&#x5982;&#xFF1A;<strong>memory</strong>&#x3001;<strong>disk</strong></p><h3 id="12-nonpreemptable-resource"><a class="anchor" href="#12-nonpreemptable-resource">#</a> 1.2 Nonpreemptable Resource</h3><p>&#x975E;&#x53EF;&#x62A2;&#x5360;&#x5F0F;&#x8D44;&#x6E90;&#xFF0C;&#x8BE5;&#x7C7B;&#x8D44;&#x6E90;&#x88AB;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x8BBF;&#x95EE;&#x7684;&#x8FDB;&#x7A0B;&#x4F1A;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x8BE5;&#x8D44;&#x6E90;&#x88AB;&#x91CA;&#x653E;&#x3002;&#x8D44;&#x6E90;&#x7684;&#x7533;&#x8BF7;&#x8FC7;&#x7A0B;&#x662F;&#xFF1A;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x3001;&#x4F7F;&#x7528;&#x8D44;&#x6E90;&#x3001;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#x3002;&#x8D44;&#x6E90;&#x7684;&#x8BF7;&#x6C42;&#x8981;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x6BD4;&#x5982; open &#x8C03;&#x7528;&#x7B49;&#x3002;</p><h2 id="2-&#x6B7B;&#x9501;"><a class="anchor" href="#2-&#x6B7B;&#x9501;">#</a> 2 &#x6B7B;&#x9501;</h2><p>A set of processes is deadlocked if each process in the<br>set is waiting for an event that only another process in<br>the set can cause.<br>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x62E5;&#x6709; a &#x8D44;&#x6E90;&#x65F6;&#x8BBF;&#x95EE;&#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x62E5;&#x6709;&#x7684; b &#x8D44;&#x6E90;&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x91CA;&#x653E; b &#x8D44;&#x6E90;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8BBF;&#x95EE; a &#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x8BF4;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x6784;&#x6210;&#x6B7B;&#x9501;&#x3002;</p><h3 id="21-&#x6B7B;&#x9501;&#x6761;&#x4EF6;condition"><a class="anchor" href="#21-&#x6B7B;&#x9501;&#x6761;&#x4EF6;condition">#</a> 2.1 &#x6B7B;&#x9501;&#x6761;&#x4EF6; Condition</h3><ul><li>Mutual exclusion condition<br>&#x6BCF;&#x4E2A;&#x8D44;&#x6E90;&#x5DF2;&#x7ECF;&#x5206;&#x914D;&#x7ED9;&#x67D0;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E0D;&#x7136;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x7684;&#x3002;</li><li>Hold and wait condition<br>&#x5DF2;&#x7ECF;&#x5F97;&#x5230;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x65B0;&#x7684;&#x8D44;&#x6E90;</li><li>No preeption condition<br>&#x5DF2;&#x7ECF;&#x5206;&#x914D;&#x7ED9;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8D44;&#x6E90;&#x4E0D;&#x80FD;&#x5F3A;&#x5236;&#x6027;&#x7684;&#x88AB;&#x62A2;&#x5360;&#xFF0C;&#x53EA;&#x80FD;&#x88AB;&#x5360;&#x6709;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x91CA;&#x653E;</li><li>Circular wait condition<br>&#x6B7B;&#x9501;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709;&#x7531;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4;&#x6210;&#x7684;&#x4E00;&#x6761;&#x73AF;&#x8DEF;&#xFF0C;&#x73AF;&#x8DEF;&#x4E2D;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x8BF7;&#x6C42;&#x4E0B;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5360;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x3002;&#xFF08;&#x6B7B;&#x9501;&#x53D1;&#x751F;&#x7684;&#x6839;&#x672C;&#x539F;&#x56E0;&#xFF09;</li></ul><h3 id="22-&#x6B7B;&#x9501;&#x5EFA;&#x6A21;modeling"><a class="anchor" href="#22-&#x6B7B;&#x9501;&#x5EFA;&#x6A21;modeling">#</a> 2.2 &#x6B7B;&#x9501;&#x5EFA;&#x6A21; Modeling</h3><ul><li><strong>&#x65B9;&#x5757;</strong>&#x8868;&#x793A;<strong>&#x8D44;&#x6E90;</strong>&#xFF0C;<strong>&#x5706;&#x5F62;</strong>&#x8868;&#x793A;<strong>&#x8FDB;&#x7A0B;</strong></li><li>&#x7BAD;&#x5934;&#xFF0C;&#x88AB;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x6307;&#x5411;&#x5360;&#x7528;&#x8FDB;&#x7A0B;&#xFF1B;&#x7B49;&#x5F85;&#x8FDB;&#x7A0B;&#x6307;&#x5411;&#x88AB;&#x7B49;&#x5F85;&#x8D44;&#x6E90;<br><strong>Resource-Allocation Graph</strong><br>V &#x96C6;&#xFF1A;P &#x96C6;&#x8868;&#x793A;&#x8FDB;&#x7A0B;&#x96C6;&#x5408;&#xFF1B;R &#x96C6;&#x8868;&#x793A;&#x8D44;&#x6E90;&#x96C6;&#x5408;&#xFF1B;<br>E &#x96C6;&#xFF1A;request edge --- &#x8FDB;&#x7A0B; --&gt; &#x8D44;&#x6E90;&#xFF1B;&#xFF08;&#x8BF7;&#x6C42;&#xFF09;<br>assignment edge --- &#x8D44;&#x6E90; --&gt; &#x8FDB;&#x7A0B;&#xFF1B;&#xFF08;&#x5206;&#x914D;&#xFF09;<br>&#x6839;&#x636E;&#x56FE;&#xFF0C;&#x5982;&#x679C;&#x56FE;&#x6CA1;&#x6709; cycle&#xFF0C;&#x6CA1;&#x6709;&#x6B7B;&#x9501;&#xFF1B;&#x5982;&#x679C;&#x6709;&#xFF0C;&#x67D0;&#x7C7B;&#x578B;&#x8D44;&#x6E90;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x53D1;&#x751F;&#x6B7B;&#x9501;&#xFF0C;&#x6709;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x6B7B;&#x9501;&#x3002;</li></ul><h3 id="23-&#x6B7B;&#x9501;&#x89E3;&#x51B3;"><a class="anchor" href="#23-&#x6B7B;&#x9501;&#x89E3;&#x51B3;">#</a> 2.3 &#x6B7B;&#x9501;&#x89E3;&#x51B3;</h3><p>&#x601D;&#x60F3;&#xFF1A;&#x7834;&#x574F;&#x6B7B;&#x9501;&#x6784;&#x6210;&#x7684;&#x56DB;&#x4E2A;&#x6761;&#x4EF6;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002;</p><h4 id="231-&#x9E35;&#x9E1F;&#x7B97;&#x6CD5;ostrich"><a class="anchor" href="#231-&#x9E35;&#x9E1F;&#x7B97;&#x6CD5;ostrich">#</a> 2.3.1 &#x9E35;&#x9E1F;&#x7B97;&#x6CD5; Ostrich</h4><p>&#x7CFB;&#x7EDF;&#x8BA4;&#x4E3A;&#x6B7B;&#x9501;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x3002;&#x5E94;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x6709;&#x524D;&#x63D0;&#xFF0C;&#x7531;&#x4E8E;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x6B7B;&#x9501;&#x7684;&#x53D1;&#x751F;&#x975E;&#x5E38;&#x7A00;&#x5C11;&#x6216;&#x8005;&#x6B7B;&#x9501;&#x7684;&#x9884;&#x9632; cost &#x975E;&#x5E38;&#x6602;&#x8D35;&#x3002;</p><h4 id="232-deadlock-detection"><a class="anchor" href="#232-deadlock-detection">#</a> 2.3.2 Deadlock Detection</h4><p>&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x6B7B;&#x9501;&#x7684;&#x53D1;&#x751F;&#xFF0C;&#x4F46;&#x4F1A;&#x5728;&#x68C0;&#x6D4B;&#x6B7B;&#x9501;&#x53D1;&#x751F;&#x65F6;&#x5E72;&#x9884;&#x89E3;&#x51B3;&#x3002;&#x9884;&#x5148;&#x6267;&#x884C;&#x68C0;&#x6D4B;&#xFF1A;detection algorithm&#xFF1B;&#x68C0;&#x6D4B;&#x5230;&#x6B7B;&#x9501;&#x72B6;&#x6001;&#x89E3;&#x51B3;&#xFF1A;recovery algorithm</p><h5 id="2321-&#x6709;&#x5411;&#x56FE;&#x73AF;&#x8DEF;&#x68C0;&#x6D4B;&#x7B97;&#x6CD5;"><a class="anchor" href="#2321-&#x6709;&#x5411;&#x56FE;&#x73AF;&#x8DEF;&#x68C0;&#x6D4B;&#x7B97;&#x6CD5;">#</a> 2.3.2.1 &#x6709;&#x5411;&#x56FE;&#x73AF;&#x8DEF;&#x68C0;&#x6D4B;&#x7B97;&#x6CD5;</h5><ol><li>&#x521D;&#x59CB;&#x5316;&#x7A7A;&#x5217;&#x8868; L&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x6240;&#x6709;&#x7684;&#x8FB9;&#x6CA1;&#x6709;&#x88AB;&#x6807;&#x8BB0;&#x3002;</li><li>&#x628A;&#x5F53;&#x524D;&#x7684; node &#x63A8;&#x5165; L&#xFF0C;&#x68C0;&#x6D4B; node &#x662F;&#x5426;&#x88AB;&#x63A8;&#x5165; L &#x8FC7;&#xFF0C;&#x5982;&#x679C;&#x6709;&#xFF0C;&#x8BC1;&#x660E;&#x5B58;&#x5728;&#x73AF;&#x8DEF;&#x3002;</li><li>&#x67E5;&#x770B; node &#x6CA1;&#x88AB;&#x6807;&#x8BB0;&#x7684;&#x51FA;&#x8FB9;&#xFF0C;&#x5982;&#x679C;&#x6709;&#xFF0C;goto 4 &#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;goto 5 &#x3002;</li><li>&#x968F;&#x673A;&#x9009;&#x62E9;&#x4E00;&#x6761;&#x51FA;&#x8FB9;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x9009;&#x4E3A;&#x51FA;&#x8FB9;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x8FD4;&#x56DE; 2 &#xFF1B;</li><li>&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x904D;&#x5386;&#x5B8C;&#x6BD5;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0A;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;goto 3&#xFF1B;&#x5982;&#x679C;&#x8FD9;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x8BE5;&#x56FE;&#x6CA1;&#x6709;&#x73AF;&#x8DEF;&#x3002;</li></ol><p><strong>&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x53EA;&#x6709;&#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6B7B;&#x9501;&#x68C0;&#x6D4B;</strong></p><h5 id="2322-&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x6709;&#x591A;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6B7B;&#x9501;&#x68C0;&#x6D4B;"><a class="anchor" href="#2322-&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x6709;&#x591A;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6B7B;&#x9501;&#x68C0;&#x6D4B;">#</a> 2.3.2.2 &#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x6709;&#x591A;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6B7B;&#x9501;&#x68C0;&#x6D4B;</h5><p>&#x9996;&#x5148;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#x5411;&#x91CF;&#x3001;&#x4E24;&#x4E2A;&#x77E9;&#x9635;&#x7684;&#x6982;&#x5FF5;&#xFF1A;</p><ul><li>Resource in existence &#x5411;&#x91CF;</li><li>Resource available &#x5411;&#x91CF;</li><li>Current allocated matrix</li><li>Request matrix</li></ul><p><strong>Deadlock Detection Algorithm</strong></p><ul><li>&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x662F;&#x5BF9;&#x5411;&#x91CF;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF08;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x8981;&#x6BD4;&#xFF0C;&#x5168;&#x90E8;&#x5C0F;&#x624D;&#x662F;&#x5C0F;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x662F;&#x5927;&#xFF09;</li><li>&#x5148;&#x67E5;&#x770B;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x9700;&#x6C42;&#x77E9;&#x9635;&#x7684;&#x6BCF;&#x5217;&#xFF0C;&#x770B;&#x770B;&#x5206;&#x914D;&#x5411;&#x91CF;&#x80FD;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;</li><li>&#x7B2C;&#x4E00;&#x4E2A;&#x627E;&#x5230;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x5206;&#x914D;&#x77E9;&#x9635;&#x8BE5;&#x8FDB;&#x7A0B;&#x6240;&#x5728;&#x884C;&#x7684;&#x5217;&#x52A0;&#x5230;&#x53EF;&#x7528;&#x5411;&#x91CF;&#xFF0C;&#x6807;&#x8BB0;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#xFF0C;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x6B65;&#xFF08;&#x5C31;&#x662F;&#x5047;&#x8BBE;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x51E0;&#x4E4E;&#x65E0;&#x7A77;&#x5FEB;&#xFF09;</li><li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x7B97;&#x6CD5;&#x7EC8;&#x6B62;&#xFF0C;&#x8BF4;&#x660E;&#x4F1A;&#x6B7B;&#x9501;</li></ul><h4 id="233-recovery&#x7B97;&#x6CD5;"><a class="anchor" href="#233-recovery&#x7B97;&#x6CD5;">#</a> 2.3.3 Recovery &#x7B97;&#x6CD5;</h4><ul><li>Recovery through preemption</li><li>Recovery through rollback</li><li>Recovery through killing processes</li></ul><h4 id="234-&#x6B7B;&#x9501;&#x907F;&#x514D;"><a class="anchor" href="#234-&#x6B7B;&#x9501;&#x907F;&#x514D;">#</a> 2.3.4 &#x6B7B;&#x9501;&#x907F;&#x514D;</h4><p>&#x4F7F;&#x7528; deadlock-avoidance algorithm</p><p>&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x4F46;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x6A21;&#x578B;&#x3001;&#x9700;&#x8981;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x58F0;&#x660E;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x7684;&#x7C7B;&#x578B;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x6700;&#x5927;&#x503C;</p><p>&#x8BE5;&#x7B97;&#x6CD5;&#x7684;&#x91CD;&#x8981;&#x57FA;&#x7840;&#xFF1A;safe state</p><ul><li>safe state&#xFF1A;&#x6CA1;&#x6709;&#x6B7B;&#x9501;&#x4E14;&#x53EF;&#x4EE5;&#x4EE5;&#x67D0;&#x79CD;&#x987A;&#x5E8F;&#x5904;&#x7406;&#x8FDB;&#x7A0B;&#x6765;&#x6EE1;&#x8DB3;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x7684;&#x9700;&#x6C42;&#xFF1B;</li><li>system is in safe state&#xFF1A;&#x5B58;&#x5728;&#x5B89;&#x5168;&#x7684;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x5E8F;&#x5217;</li><li>unsafe state&#xFF1A;possiable of deadlock</li><li>If a system is in safe state =&gt; no deadlocks</li><li>If a system is in unsafe state =&gt; <strong>possibility</strong> of deadlock</li><li>Avoidance =&gt; ensure that system will never enter an unsafe state</li></ul><p>&#x5982;&#x4F55;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x4E0D;&#x4F1A;&#x8FDB;&#x5165; unsafe state &#x5462;&#xFF1F;</p><ul><li>Banker Algorithm &#x5927;&#x540D;&#x9F0E;&#x9F0E;&#x7684;&#x94F6;&#x884C;&#x5BB6;&#x7B97;&#x6CD5;<ul><li>&#x5BF9;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8D44;&#x6E90;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7684;&#x94F6;&#x884C;&#x5BB6;&#x7B97;&#x6CD5;&#xFF1A;&#x628A; Free &#x52A0;&#x5230; Has &#x91CC;&#x6BD4;&#x8F83; Max&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x6EE1;&#x8DB3;&#x7684;&#x8FDB;&#x7A0B;&#x5C31;&#x5206;&#x914D;&#x8D44;&#x6E90;&#x7B49;&#x5F85;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;&#x91CA;&#x653E;&#x7EE7;&#x7EED;&#x4E0B;&#x4E00;&#x8F6E;&#x8F6E;&#x8BE2;&#xFF0C;&#x53EA;&#x5230;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x3002;</li><li>&#x91CD;&#x70B9;&#xFF1A;<strong>&#x5BF9;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x8D44;&#x6E90;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x94F6;&#x884C;&#x5BB6;&#x7B97;&#x6CD5;</strong></li></ul></li></ul><h5 id="2341-bankers-algorithm-for-multiple-resources"><a class="anchor" href="#2341-bankers-algorithm-for-multiple-resources">#</a> 2.3.4.1 Banker&apos;s Algorithm for Multiple Resources</h5><p>&#x9996;&#x5148;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x63A2;&#x8BA8;&#x4E00;&#x4E0B;&#x600E;&#x4E48;&#x67E5;&#x770B;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x662F;&#x5426;&#x662F; safe &#x7684;&#xFF1A;</p><ol><li>&#x641C;&#x7D22;&#x6709;&#x6CA1;&#x6709;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x88AB;&#x6EE1;&#x8DB3;&#xFF08;need&lt; has+free&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B7B;&#x9501; =&#x300B;unsafe state</li><li>&#x5982;&#x679C;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5C31;&#x6807;&#x8BB0;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#x5230; free &#x4E2D;</li><li>&#x91CD;&#x590D; 1&#x3001;2&#xFF0C;&#x76F4;&#x5230;&#x6240;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x88AB;&#x6807;&#x8BB0; =&#x300B;safe state</li></ol><p>&#x94F6;&#x884C;&#x5BB6;&#x7B97;&#x6CD5;&#x89C2;&#x70B9;&#xFF1A;</p><ul><li>Trade-off&#xFF1A;&#x4FDD;&#x5B88;&#x3001;&#x51CF;&#x5C11;&#x4E86;&#x5E76;&#x884C;&#x6027;&#xFF1B;</li><li>Not very practicable<ul><li>&#x8FDB;&#x7A0B;&#x6240;&#x9700;&#x7684;&#x6700;&#x5927;&#x8D44;&#x6E90;&#x6570;&#x662F;&#x5F88;&#x96BE;&#x88AB;&#x63D0;&#x524D;&#x9884;&#x77E5;&#x7684;</li><li>&#x8FDB;&#x7A0B;&#x6570;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x4E0D;&#x53D8;&#x7684;</li><li>&#x88AB;&#x58F0;&#x660E;&#x4E3A;&#x53EF;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x968F;&#x65F6;&#x53EF;&#x80FD;&#x6D88;&#x5931;</li></ul></li></ul><h4 id="235-&#x6B7B;&#x9501;&#x9884;&#x9632;"><a class="anchor" href="#235-&#x6B7B;&#x9501;&#x9884;&#x9632;">#</a> 2.3.5 &#x6B7B;&#x9501;&#x9884;&#x9632;</h4><p>&#x6253;&#x7834;&#x6B7B;&#x9501;&#x4EA7;&#x751F;&#x7684;&#x56DB;&#x5927;&#x6761;&#x4EF6;</p><p>&#x590D;&#x4E60;&#x4E00;&#x4E0B;&#xFF0C;&#x6B7B;&#x9501;&#x4EA7;&#x751F;&#x7684;&#x56DB;&#x5927;&#x6761;&#x4EF6;&#x5206;&#x522B;&#x662F;&#xFF1A;<strong>Mutux Exclution&#x3001;Hold and wait&#x3001;No Preemptive&#x3001;Circular Wait</strong></p><ul><li><strong>Attacking Mutux Exclusion</strong><ul><li>Some devices can be spooled<ul><li>&#x6BD4;&#x5982;&#x6253;&#x5370;&#x673A;&#xFF0C;&#x5355;&#x72EC;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6253;&#x5370;&#x8FDB;&#x7A0B;&#x4E13;&#x95E8;&#x8D1F;&#x8D23;&#x6253;&#x5370;&#x5DE5;&#x4F5C;&#xFF0C;&#x72EC;&#x5360;&#x6253;&#x5370;&#x8D44;&#x6E90;&#xFF0C;&#x4F7F;&#x5F97;&#x6253;&#x5370;&#x673A;&#x4E00;&#x76F4;&#x51FA;&#x4E8E;&#x88AB;&#x5360;&#x7528;&#x72B6;&#x6001;&#x3002;</li></ul></li><li>Spooling space is limited, so deadlock is still possible with this decision</li><li>&#x539F;&#x5219;<ul><li>&#x907F;&#x514D;&#x5206;&#x914D;&#x8D44;&#x6E90;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x7EDD;&#x5BF9;&#x9700;&#x8981;&#x7684;</li><li>&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x7684;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x5360;&#x6709;&#x8D44;&#x6E90;</li></ul></li><li>&#x95EE;&#x9898;<ul><li>&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684; device &#x90FD;&#x53EF;&#x4EE5; spool</li></ul></li></ul></li><li><strong>Attacking Hold and Wait</strong><ul><li>&#x8981;&#x6C42;&#x8FDB;&#x7A0B;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x65F6;&#x8BF7;&#x6C42;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x56E0;&#x4E3A;&#x8D44;&#x6E90;&#x88AB;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x800C;&#x7B49;&#x5F85;</li><li>&#x95EE;&#x9898;<ul><li>&#x53EF;&#x80FD;&#x4E0D;&#x77E5;&#x9053;&#x9700;&#x8981;&#x7684;&#x8D44;&#x6E90;&#x5728;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;</li><li>&#x4ECD;&#x7136;&#x53EF;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x88AB;&#x522B;&#x7684;&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x7684;&#x8D44;&#x6E90;</li><li><strong>&#x6539;&#x8FDB;&#xFF1A;&#x4E00;&#x65E6;&#x8BF7;&#x6C42;&#x4E0D;&#x5230;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x5C31;&#x653E;&#x5F03;&#x73B0;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;</strong></li></ul></li></ul></li><li><strong>Attacking No Preemption Condition</strong><ul><li>&#x8BBE;&#x7F6E;&#x53EF;&#x62A2;&#x5360;&#x5F0F;</li><li>&#x975E;&#x5E38;&#x96BE;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x5207;&#x5B9E;&#x9645;&#xFF0C;&#x6BD4;&#x5982;&#x6253;&#x5370;&#x673A;&#x5C31;&#x4E0D;&#x80FD;&#x5728;&#x5DE5;&#x4F5C;&#x65F6;&#x88AB;&#x62A2;&#x5360;</li></ul></li><li><strong>Attacking the Circular Wait Condition</strong><ul><li>&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#xFF0C;&#x91CA;&#x653E;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;</li><li>&#x5BF9;&#x8D44;&#x6E90;&#x8FDB;&#x7A0B;&#x5168;&#x5C40;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x8BF7;&#x6C42;&#x5FC5;&#x987B;&#x6309;&#x987A;&#x5E8F;&#x9012;&#x589E;</li><li>&#x5BF9;&#x65B9;&#x6CD5;&#x4E8C;&#x8FDB;&#x884C;&#x6539;&#x8FDB;&#xFF1A;&#x6CA1;&#x6709;&#x8FDB;&#x7A0B;&#x7533;&#x8BF7;&#x6BD4;&#x5DF2;&#x7ECF;&#x5360;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x66F4;&#x4F4E;&#x7684;&#x8D44;&#x6E90;&#x3002;</li><li>&#x95EE;&#x9898;&#xFF1A;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684; numbering &#x6765;&#x6EE1;&#x8DB3;&#x6240;&#x6709;&#x4EBA;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#xFF1B;&#x589E;&#x52A0;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x8D1F;&#x62C5;&#x6765;&#x8BB0;&#x5FC6; numbering</li></ul></li></ul><h2 id="3-other-issue"><a class="anchor" href="#3-other-issue">#</a> 3 Other Issue</h2><h3 id="31-two-phase-locking"><a class="anchor" href="#31-two-phase-locking">#</a> 3.1 Two-Phase Locking</h3><ul><li>Phase one<ul><li>&#x8FDB;&#x7A0B;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x67B7;&#x9501;&#xFF0C;&#x4E00;&#x6B21;&#x9501;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x3002;</li></ul></li><li>Phase two<ul><li>&#x5EFA;&#x7ACB;&#x5728;&#x9636;&#x6BB5;&#x4E00;&#x6210;&#x529F;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5B8C;&#x6210;&#x66F4;&#x65B0;&#x7136;&#x540E;&#x91CA;&#x653E;&#x6240;&#x6709;&#x7684;&#x9501;&#x3002;</li></ul></li></ul><h3 id="32-communication-deadlocks"><a class="anchor" href="#32-communication-deadlocks">#</a> 3.2 Communication Deadlocks</h3><p>&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x5728;&#x7B49;&#x5F85;&#x8BE5;&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x7684;&#x4E8B;&#x4EF6;</p><p>solution&#xFF1A;&#x8BBE;&#x7F6E; timeout</p><h3 id="33-livelock"><a class="anchor" href="#33-livelock">#</a> 3.3 Livelock</h3><p>&#x8FDB;&#x7A0B;&#x4EFB;&#x7136;&#x5728;&#x8FD0;&#x884C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x52A8;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982; polling&#xFF08;busy waiting&#xFF09;.</p><h3 id="34-starvation"><a class="anchor" href="#34-starvation">#</a> 3.4 starvation</h3><p>&#x4E00;&#x79CD;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x8C03;&#x5EA6;&#xFF0C;&#x6700;&#x77ED;&#x4F5C;&#x4E1A;&#x4F18;&#x5148;&#xFF0C;&#x5927;&#x4F5C;&#x4E1A;&#x7684;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x9965;&#x997F;&#x3002;</p><div class="tags"><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"><i class="ic i-tag"></i> 操作系统</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2024-06-16 12:03:06" itemprop="dateModified" datetime="2024-06-16T12:03:06+08:00">2024-06-16</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Cai Junyuan WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Cai Junyuan Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Cai Junyuan PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Cai Junyuan <i class="ic i-at"><em>@</em></i>Blog</li><li class="link"><strong>Post link: </strong><a href="http://smallcjy.github.io/2024/05/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--Deadlocks/" title="操作系统--Deadlocks">http://smallcjy.github.io/2024/05/27/操作系统--Deadlocks/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/05/27/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0%E9%87%8D%E7%82%B9/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s21.ax1x.com&#x2F;2024&#x2F;07&#x2F;18&#x2F;pkoWTzR.jpg" title="计网复习重点"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>计网复习重点</h3></a></div><div class="item right"><a href="/2024/05/30/%E8%BD%AF%E5%88%86%E5%AE%9E%E8%AE%AD%E5%BC%80%E5%8F%91%E4%B8%AD%E6%9E%B6%E6%9E%84%E6%9C%89%E6%84%9F/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s21.ax1x.com&#x2F;2024&#x2F;07&#x2F;18&#x2F;pkoWTzR.jpg" title="软分实训中架构有感"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>软分实训中架构有感</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%B5%84%E6%BA%90resources"><span class="toc-number">1.</span> <span class="toc-text">1 资源 Resources</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11preemptable-resource"><span class="toc-number">1.1.</span> <span class="toc-text">1.1Preemptable Resource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-nonpreemptable-resource"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Nonpreemptable Resource</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%AD%BB%E9%94%81"><span class="toc-number">2.</span> <span class="toc-text">2 死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%AD%BB%E9%94%81%E6%9D%A1%E4%BB%B6condition"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 死锁条件 Condition</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E6%AD%BB%E9%94%81%E5%BB%BA%E6%A8%A1modeling"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 死锁建模 Modeling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E6%AD%BB%E9%94%81%E8%A7%A3%E5%86%B3"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 死锁解决</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#231-%E9%B8%B5%E9%B8%9F%E7%AE%97%E6%B3%95ostrich"><span class="toc-number">2.3.1.</span> <span class="toc-text">2.3.1 鸵鸟算法 Ostrich</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#232-deadlock-detection"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.3.2 Deadlock Detection</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2321-%E6%9C%89%E5%90%91%E5%9B%BE%E7%8E%AF%E8%B7%AF%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">2.3.2.1 有向图环路检测算法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2322-%E6%AF%8F%E7%A7%8D%E7%B1%BB%E5%9E%8B%E6%9C%89%E5%A4%9A%E4%B8%AA%E8%B5%84%E6%BA%90%E7%9A%84%E6%AD%BB%E9%94%81%E6%A3%80%E6%B5%8B"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">2.3.2.2 每种类型有多个资源的死锁检测</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#233-recovery%E7%AE%97%E6%B3%95"><span class="toc-number">2.3.3.</span> <span class="toc-text">2.3.3 Recovery 算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#234-%E6%AD%BB%E9%94%81%E9%81%BF%E5%85%8D"><span class="toc-number">2.3.4.</span> <span class="toc-text">2.3.4 死锁避免</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2341-bankers-algorithm-for-multiple-resources"><span class="toc-number">2.3.4.1.</span> <span class="toc-text">2.3.4.1 Banker&#39;s Algorithm for Multiple Resources</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#235-%E6%AD%BB%E9%94%81%E9%A2%84%E9%98%B2"><span class="toc-number">2.3.5.</span> <span class="toc-text">2.3.5 死锁预防</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-other-issue"><span class="toc-number">3.</span> <span class="toc-text">3 Other Issue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-two-phase-locking"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 Two-Phase Locking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-communication-deadlocks"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 Communication Deadlocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-livelock"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 Livelock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-starvation"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 starvation</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Cai Junyuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Cai Junyuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">41</span> <span class="name">posts</span></a></div><div class="item tags"><a href="/tags/"><span class="count">9</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NtYWxsY2p5" title="https:&#x2F;&#x2F;github.com&#x2F;smallcjy"><i class="ic i-github"></i></span> <a href="/2628035541@qq.com" title="2628035541@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>About</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/05/27/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0%E9%87%8D%E7%82%B9/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/05/30/%E8%BD%AF%E5%88%86%E5%AE%9E%E8%AE%AD%E5%BC%80%E5%8F%91%E4%B8%AD%E6%9E%B6%E6%9E%84%E6%9C%89%E6%84%9F/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2024/05/16/%E9%97%B4%E6%8E%A5%E6%80%A7%E5%8E%9F%E5%88%99/" title="间接性原则">间接性原则</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" title="操作系统--内存管理">操作系统--内存管理</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/22/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-C-F-G/" title="编译原理--C.F.G">编译原理--C.F.G</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/18/%E7%8E%AF%E5%BD%A2%E5%88%97%E8%A1%A8%E7%9A%84%E6%8E%A2%E6%9F%A5/" title="环形列表的探查">环形列表的探查</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/27/SmolTcp_Loopback%20%E6%BA%90%E7%A0%81/" title="smoltcplo网卡源码">smoltcplo网卡源码</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/16/%E6%95%B0%E6%8D%AE%E5%B1%82%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2/" title="数据层控制平面">数据层控制平面</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/27/%E5%86%85%E5%AD%98%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E4%B9%8B%20use-after-free%20%E6%BC%8F%E6%B4%9E%E9%97%AE%E9%A2%98/" title="内存问题之 use-after-free 问题">内存问题之 use-after-free 问题</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/10/C-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0-boost-1/" title="C++网络编程学习-boost(1)">C++网络编程学习-boost(1)</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/04/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1%E4%B8%8E%E8%B0%83%E5%BA%A6/" title="操作系统--进程通信与调度">操作系统--进程通信与调度</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/04/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86--%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E4%B9%8B%E6%8E%A7%E5%88%B6%E6%B5%81/" title="编译原理--中间代码生成之控制流">编译原理--中间代码生成之控制流</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Cai Junyuan @ SmallC</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/05/27/操作系统--Deadlocks/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->