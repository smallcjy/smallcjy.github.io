<!-- build time:Wed Oct 02 2024 17:39:14 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Cai Junyuan"><meta name="keywords" content=""><meta name="description" content="# 1 资源 Resources # 1.1Preemptable Resource 可抢占式资源这类资源被抢占不会影响程序的基本运行。 比如：memory、disk # 1.2 Nonpreemptable Resource 非可抢占式资源，该类资源被访问时，其他访问的进程会进入阻塞状态，等待该资源被释放。资源的申请过程是：请求资源、使用资源、释放资源。资源的请求要调用系统调用，比如 open"><meta property="og:type" content="article"><meta property="og:title" content="操作系统--Deadlocks"><meta property="og:url" content="http://smallcjy.github.io/2024/05/27/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--Deadlocks/index.html"><meta property="og:site_name" content="Blog"><meta property="og:description" content="# 1 资源 Resources # 1.1Preemptable Resource 可抢占式资源这类资源被抢占不会影响程序的基本运行。 比如：memory、disk # 1.2 Nonpreemptable Resource 非可抢占式资源，该类资源被访问时，其他访问的进程会进入阻塞状态，等待该资源被释放。资源的申请过程是：请求资源、使用资源、释放资源。资源的请求要调用系统调用，比如 open"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-05-27T02:48:31.000Z"><meta property="article:modified_time" content="2024-07-17T06:13:41.965Z"><meta property="article:author" content="Cai Junyuan"><meta property="article:tag" content="操作系统"><meta name="twitter:card" content="summary_large_image"><title>操作系统--Deadlocks - Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"smallcjy.github.io",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,"default":"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Fluid</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="操作系统--Deadlocks"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-05-27 10:48" pubdate>2024年5月27日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.7k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 15 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">操作系统--Deadlocks</h1><div class="markdown-body"><h2 id="1-资源resources"><a class="anchor" href="#1-资源resources">#</a> 1 资源 Resources</h2><h3 id="11preemptable-resource"><a class="anchor" href="#11preemptable-resource">#</a> 1.1Preemptable Resource</h3><p>可抢占式资源这类资源被抢占不会影响程序的基本运行。<br>比如：<strong>memory</strong>、<strong>disk</strong></p><h3 id="12-nonpreemptable-resource"><a class="anchor" href="#12-nonpreemptable-resource">#</a> 1.2 Nonpreemptable Resource</h3><p>非可抢占式资源，该类资源被访问时，其他访问的进程会进入阻塞状态，等待该资源被释放。资源的申请过程是：请求资源、使用资源、释放资源。资源的请求要调用系统调用，比如 open 调用等。</p><h2 id="2-死锁"><a class="anchor" href="#2-死锁">#</a> 2 死锁</h2><p>A set of processes is deadlocked if each process in the<br>set is waiting for an event that only another process in<br>the set can cause.<br>简单来说，就是一个进程在拥有 a 资源时访问另一个进程拥有的 b 资源，而另一个进程在释放 b 资源之前需要访问 a 资源，这样就说两个进程构成死锁。</p><h3 id="21-死锁条件condition"><a class="anchor" href="#21-死锁条件condition">#</a> 2.1 死锁条件 Condition</h3><ul><li>Mutual exclusion condition<br>每个资源已经分配给某进程，不然就是可以调用的。</li><li>Hold and wait condition<br>已经得到的资源的进程可以请求新的资源</li><li>No preeption condition<br>已经分配给一个进程的资源不能强制性的被抢占，只能被占有它的进程释放</li><li>Circular wait condition<br>死锁发生时，系统中有由两个以上的进程组成的一条环路，环路中每个进程请求下一个进程占有的资源。（死锁发生的根本原因）</li></ul><h3 id="22-死锁建模modeling"><a class="anchor" href="#22-死锁建模modeling">#</a> 2.2 死锁建模 Modeling</h3><ul><li><strong>方块</strong>表示<strong>资源</strong>，<strong>圆形</strong>表示<strong>进程</strong></li><li>箭头，被占用资源指向占用进程；等待进程指向被等待资源<br><strong>Resource-Allocation Graph</strong><br>V 集：P 集表示进程集合；R 集表示资源集合；<br>E 集：request edge --- 进程 --&gt; 资源；（请求）<br>assignment edge --- 资源 --&gt; 进程；（分配）<br>根据图，如果图没有 cycle，没有死锁；如果有，某类型资源只有一个实例，发生死锁，有多个实例，有可能发生死锁。</li></ul><h3 id="23-死锁解决"><a class="anchor" href="#23-死锁解决">#</a> 2.3 死锁解决</h3><p>思想：破坏死锁构成的四个条件中的一个。</p><h4 id="231-鸵鸟算法ostrich"><a class="anchor" href="#231-鸵鸟算法ostrich">#</a> 2.3.1 鸵鸟算法 Ostrich</h4><p>系统认为死锁根本不会发生。应用这种算法有前提，由于系统设计的原因，死锁的发生非常稀少或者死锁的预防 cost 非常昂贵。</p><h4 id="232-deadlock-detection"><a class="anchor" href="#232-deadlock-detection">#</a> 2.3.2 Deadlock Detection</h4><p>系统允许死锁的发生，但会在检测死锁发生时干预解决。预先执行检测：detection algorithm；检测到死锁状态解决：recovery algorithm</p><h5 id="2321-有向图环路检测算法"><a class="anchor" href="#2321-有向图环路检测算法">#</a> 2.3.2.1 有向图环路检测算法</h5><ol><li>初始化空列表 L，初始化所有的边没有被标记。</li><li>把当前的 node 推入 L，检测 node 是否被推入 L 过，如果有，证明存在环路。</li><li>查看 node 没被标记的出边，如果有，goto 4 ；如果没有，goto 5 。</li><li>随机选择一条出边，把当前节点选为出边的另一个节点，返回 2 ；</li><li>说明当前节点遍历完毕，返回上一个节点，goto 3；如果这是最后一个节点，则说明该图没有环路。</li></ol><p><strong>可以用来检测每种类型只有单个资源的死锁检测</strong></p><h5 id="2322-每种类型有多个资源的死锁检测"><a class="anchor" href="#2322-每种类型有多个资源的死锁检测">#</a> 2.3.2.2 每种类型有多个资源的死锁检测</h5><p>首先要有两个向量、两个矩阵的概念：</p><ul><li>Resource in existence 向量</li><li>Resource available 向量</li><li>Current allocated matrix</li><li>Request matrix</li></ul><p><strong>Deadlock Detection Algorithm</strong></p><ul><li>主要思想是对向量进行比较（每个元素都要比，全部小才是小，否则就是大）</li><li>先查看每个进程的需求矩阵的每列，看看分配向量能不能满足</li><li>第一个找到的进程，把当前分配矩阵该进程所在行的列加到可用向量，标记这个矩阵，返回第一步（就是假设每个进程的运行速度几乎无穷快）</li><li>如果没有这样的进程，算法终止，说明会死锁</li></ul><h4 id="233-recovery算法"><a class="anchor" href="#233-recovery算法">#</a> 2.3.3 Recovery 算法</h4><ul><li>Recovery through preemption</li><li>Recovery through rollback</li><li>Recovery through killing processes</li></ul><h4 id="234-死锁避免"><a class="anchor" href="#234-死锁避免">#</a> 2.3.4 死锁避免</h4><p>使用 deadlock-avoidance algorithm</p><p>一个简单但非常有用的模型、需要每个进程声明自己需要的类型的资源的最大值</p><p>该算法的重要基础：safe state</p><ul><li>safe state：没有死锁且可以以某种顺序处理进程来满足所有进程的需求；</li><li>system is in safe state：存在安全的进程执行序列</li><li>unsafe state：possiable of deadlock</li><li>If a system is in safe state =&gt; no deadlocks</li><li>If a system is in unsafe state =&gt; <strong>possibility</strong> of deadlock</li><li>Avoidance =&gt; ensure that system will never enter an unsafe state</li></ul><p>如何确保系统不会进入 unsafe state 呢？</p><ul><li>Banker Algorithm 大名鼎鼎的银行家算法<ul><li>对每种类型的资源只有一个的银行家算法：把 Free 加到 Has 里比较 Max，如果存在满足的进程就分配资源等待进程完成释放继续下一轮轮询，只到所有进程执行完成。</li><li>重点：<strong>对每种类型的资源有多个的银行家算法</strong></li></ul></li></ul><h5 id="2341-bankers-algorithm-for-multiple-resources"><a class="anchor" href="#2341-bankers-algorithm-for-multiple-resources">#</a> 2.3.4.1 Banker's Algorithm for Multiple Resources</h5><p>首先让我们来探讨一下怎么查看一个状态是否是 safe 的：</p><ol><li>搜索有没有进程可以被满足（need&lt; has+free），如果没有死锁 =》unsafe state</li><li>如果存在这样的进程，就标记进程运行结束，释放资源到 free 中</li><li>重复 1、2，直到所有的进程都被标记 =》safe state</li></ol><p>银行家算法观点：</p><ul><li>Trade-off：保守、减少了并行性；</li><li>Not very practicable<ul><li>进程所需的最大资源数是很难被提前预知的</li><li>进程数不是固定不变的</li><li>被声明为可用的资源随时可能消失</li></ul></li></ul><h4 id="235-死锁预防"><a class="anchor" href="#235-死锁预防">#</a> 2.3.5 死锁预防</h4><p>打破死锁产生的四大条件</p><p>复习一下，死锁产生的四大条件分别是：<strong>Mutux Exclution、Hold and wait、No Preemptive、Circular Wait</strong></p><ul><li><strong>Attacking Mutux Exclusion</strong><ul><li>Some devices can be spooled<ul><li>比如打印机，单独设置一个打印进程专门负责打印工作，独占打印资源，使得打印机一直出于被占用状态。</li></ul></li><li>Spooling space is limited, so deadlock is still possible with this decision</li><li>原则<ul><li>避免分配资源如果不是绝对需要的</li><li>尽可能少的进程可以占有资源</li></ul></li><li>问题<ul><li>不是所有的 device 都可以 spool</li></ul></li></ul></li><li><strong>Attacking Hold and Wait</strong><ul><li>要求进程开始执行时请求所有的资源，这样就不需要因为资源被其他进程占用而等待</li><li>问题<ul><li>可能不知道需要的资源在开始的时候</li><li>仍然可能访问到被别的进程占用的资源</li><li><strong>改进：一旦请求不到所有的资源就放弃现有的资源进行下一次请求</strong></li></ul></li></ul></li><li><strong>Attacking No Preemption Condition</strong><ul><li>设置可抢占式</li><li>非常难实现，因为不切实际，比如打印机就不能在工作时被抢占</li></ul></li><li><strong>Attacking the Circular Wait Condition</strong><ul><li>一次请求一个资源，释放一个请求一个</li><li>对资源进程全局的排序，请求必须按顺序递增</li><li>对方法二进行改进：没有进程申请比已经占有的资源更低的资源。</li><li>问题：找到一个合适的 numbering 来满足所有人是不可能的；增加程序员的负担来记忆 numbering</li></ul></li></ul><h2 id="3-other-issue"><a class="anchor" href="#3-other-issue">#</a> 3 Other Issue</h2><h3 id="31-two-phase-locking"><a class="anchor" href="#31-two-phase-locking">#</a> 3.1 Two-Phase Locking</h3><ul><li>Phase one<ul><li>进程对所有的记录进行枷锁，一次锁一个记录。</li></ul></li><li>Phase two<ul><li>建立在阶段一成功的基础上，完成更新然后释放所有的锁。</li></ul></li></ul><h3 id="32-communication-deadlocks"><a class="anchor" href="#32-communication-deadlocks">#</a> 3.2 Communication Deadlocks</h3><p>进程池中的每个进程都在等待该进程池中的其他进程发送的事件</p><p>solution：设置 timeout</p><h3 id="33-livelock"><a class="anchor" href="#33-livelock">#</a> 3.3 Livelock</h3><p>进程任然在运行但是没有实际动作，比如 polling（busy waiting）.</p><h3 id="34-starvation"><a class="anchor" href="#34-starvation">#</a> 3.4 starvation</h3><p>一种算法进行调度，最短作业优先，大作业的进程会被饥饿。</p></div><hr><div><div class="post-metas my-3"><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="print-no-link">#操作系统</a></div></div><div class="license-box my-3"><div class="license-title"><div>操作系统--Deadlocks</div><div>http://smallcjy.github.io/2024/05/27/操作系统--Deadlocks/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Cai Junyuan</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年5月27日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2024/05/30/%E8%BD%AF%E5%88%86%E5%AE%9E%E8%AE%AD%E5%BC%80%E5%8F%91%E4%B8%AD%E6%9E%B6%E6%9E%84%E6%9C%89%E6%84%9F/" title="软分实训中架构有感"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">软分实训中架构有感</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2024/05/27/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0%E9%87%8D%E7%82%B9/" title="计网复习重点"><span class="hidden-mobile">计网复习重点</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"><label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");if(n&&i){var d=n.getAttribute("data-typed-text");i(d)}}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn"),o=i.offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-o},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}})}})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html><!-- rebuild by hrmmi -->