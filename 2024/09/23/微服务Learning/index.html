<!-- build time:Tue Nov 12 2024 19:55:03 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Blog" href="http://smallcjy.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Blog" href="http://smallcjy.github.io/atom.xml"><link rel="alternate" type="application/json" title="Blog" href="http://smallcjy.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="microservice"><link rel="canonical" href="http://smallcjy.github.io/2024/09/23/%E5%BE%AE%E6%9C%8D%E5%8A%A1Learning/"><title>microservice learning | SmallC = Blog</title><meta name="generator" content="Hexo 7.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">microservice learning</h1><div class="meta"><span class="item" title="Created: 2024-09-23 20:04:44"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2024-09-23T20:04:44+08:00">2024-09-23</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">SmallC</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWHQ1.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWXdO.jpg"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWqL6.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWjoD.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWbsx.png"></li><li class="item" data-background-image="https://s21.ax1x.com/2024/07/18/pkoWOeK.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://smallcjy.github.io/2024/09/23/%E5%BE%AE%E6%9C%8D%E5%8A%A1Learning/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Cai Junyuan"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Blog"></span><div class="body md" itemprop="articleBody"><h2 id="前言"><a class="anchor" href="#前言">#</a> 前言</h2><p>将应用程序分解成多个微服务共同工作，为其提供服务，微服务部署在 contain 上，contain 部署在具有负载均衡的服务器上，不同微服务之间通过 api 进行调用。相较于单体应用，微服务在系统的 scale ability 上有更佳的表现。</p><h2 id="微服务简介"><a class="anchor" href="#微服务简介">#</a> 微服务简介</h2><p>微服务的死对头：单体应用。所谓知己知彼，百战百胜。要想透彻的了解微服务的诞生，必须要明白单体应用的架构，优缺点。</p><p>Monolithic Application：所有功能模块整合在一个单一的代码库和部署单元中的应用程序，所有的组件都在一个系统中运行。</p><p>最常见的单体应用框架，Spring Boot。单体应用架构中有 6 个模块：WEB_UI API MYSQL_ADAPTER TWILIO_ADAPTER SENDGRID_ADAPTER STRIPE_ADAPTER。</p><p>这些模块定义了服务、领域对象和事件。围绕核心的与外部事件接口对接的适配器，包括数据库访问组件、生产和消费消息的消息组件暴露的 API。单体应用部署服务器常用的负载均衡模式是冗余，通过运行多个副本来扩展应用。在并发数较少、用户量较少的前期阶段，它可以良好的运作。</p><h3 id="单体应用的地狱"><a class="anchor" href="#单体应用的地狱">#</a> 单体应用的地狱</h3><p>单体应用的架构和部署是简单的，但是有着很大的局限性。单体应用在业务上的成功会使得需求越来越多，系统随时间的推移变得越来越臃肿。一旦单体应用成为一个庞大、复杂的单体，可扩展会变得非常困难，可谓牵一发而动全身。任何优秀的软件架构师都无法架构出永远不会成为屎山的系统。根据可扩展性的定义：系统的扩大不会带来性能上的损失，单体应用的规模的扩大极易带来性能的下降，这从系统的启动时间就可以看出。除了可扩展性的问题，复杂的单体应用本身就是持续部署的障碍。</p><p>单体应用的另一个问题就是可靠性，由于所有的模块都运行在同一个进程中，任何一个模块的 bug，都可能带来系统的崩溃。单体应用的重构是非常具有挑战的。</p><h3 id="微服务解决复杂问题"><a class="anchor" href="#微服务解决复杂问题">#</a> 微服务 —— 解决复杂问题</h3><p>单体问题带来的大部分问题，在微服务架构中能够得到很好的解决。微服务的理念是将应用分家成一套较小的互联服务。</p><p>一个微服务通常实现一组不同的特性和功能，具有自己的六边形架构。微服务会暴漏工其他微服务或客户端消费的 api。运行时，微服务实例会部署在云虚拟机或者 docker 容器上。服务之间可以通过异步、基于消息的通信、可以通过 rest api 进行通信。</p><p>客户端和后端之间的通信是通过称为 api gateway 负责的。api gateway 负责负载均衡、缓存、访问控制、api 度量和监控。后面会详细介绍 api gateway。</p><h3 id="微服务的缺点"><a class="anchor" href="#微服务的缺点">#</a> 微服务的缺点</h3><ul><li>服务的规模</li><li>服务间的通信</li><li>分区数据库架构</li><li>测试</li><li>部署服务发现机制</li><li>PaaS 平台即服务：开发自己的 PaaS：Kubernetes 集群服务</li></ul><h2 id="api-gateway"><a class="anchor" href="#api-gateway">#</a> API Gateway</h2><p>微服务架构中，每个微服务会暴露一组比较细颗粒的端点。</p><p>假设现在有个 GET 请求，在单体服务架构中，会发送到负载均衡服务器，服务器决定发送该请求到部署相同应用实例的服务器中的其中一个。相比于微服务架构，这个 GET 请求可能会涉及到很多微服务，因此客户端不会只发送一个 GET 服务，而是发送多个 GET 服务到各个实例中。</p><h3 id="客户端与微服务的直接通信"><a class="anchor" href="#客户端与微服务的直接通信">#</a> 客户端与微服务的直接通信</h3><p>每个微服务有一个暴露的 REST API（端点），理论客户端可以直接调用某个微服务的 api，但是通过直接调用不同 api 来实现某个服务，这样效率十分低下。</p><p>下面列举几个客户端直接与微服务端建立连接的几个缺点：</p><ul><li>服务涉及的微服务请求多而杂，对客户端编写有难度</li><li>直接向微服务端发送请求不够安全</li><li>微服务架构不容易重构</li></ul><p>由于上面的问题，在微服务架构下的客户端中，很少有客户端会直接向微服务端进行通信。</p><h3 id="使用api-gateway"><a class="anchor" href="#使用api-gateway">#</a> 使用 API gateway</h3><p>下面来到本章节的重点，客户端和服务端通信的更好的方式是使用 API gateway。API gateway 是一个服务器，是系统的单入口点。它类似于面向对象设计模式中的 Facade 模式。</p><p>简单介绍一下 Facade 模式，防止有读者不了解这一经典的设计模式。Facade 设计模式是提供一个统一的接口来访问一个子系统的一组接口。统一的接口称为高层接口。客户端与 Facade 对象通信，Facade 管理下层接口。</p><p>API gateway 的工作模式类似于 Facade 模式，API gateway 是一组 Facade 门户，负责请求路由、组合和协议的转换。API gateway 会调用多个微服务来处理一个请求并聚合结果。API gateway 的作用其实可以简化为将一个 web 协议请求（http、web socket）转化为内部的非 web 协议的请求。</p><h3 id="api-gateway的优劣"><a class="anchor" href="#api-gateway的优劣">#</a> API gateway 的优劣</h3><p>待补充</p><h3 id="实现api网关"><a class="anchor" href="#实现api网关">#</a> 实现 API 网关</h3><p>下面来聊聊 API gateway 如何设计。</p><p>API gateway 负责将客户端请求分解成多个微服务请求，并 route 到对应的微服务器上。API gateway 需要并发地处理这些微服务请求，这些微服务请求是彼此独立的。</p><p>如果遇到请求之间有依赖关系，则不能并发地处理请求，需要将 api 进行具有次序的组合。通常 API gateway 会异步地 4 处理这些请求，但是采用传统的异步回调方式，会在后期陷入回调地狱，代码充斥着各种回调，使得代码深色难懂。更好的办法是采用响应式方法以声明式方式编写 API gateway 代码。</p><h4 id="服务调用"><a class="anchor" href="#服务调用">#</a> 服务调用</h4><p>基于微服务的应用是一个分布式系统，必须使用进程间通信机制。有两个进程通信方案，一是使用基于消息的异步机制，如 JVM 和 AMQP，二是采用同步机制，如 Http。API gateway 需要支持各种通信机制以灵活应用。</p><h4 id="服务发现"><a class="anchor" href="#服务发现">#</a> 服务发现</h4><p>API gateway 需要知道其管理的每个微服务的位置（IP 地址和端口）。这不是一件简单的事情，API 网关与系统中的其他客户端一样需哟啊使用系统的服务发现机制。后面会详细地介绍这部分内容。</p><h4 id="处理局部故障"><a class="anchor" href="#处理局部故障">#</a> 处理局部故障</h4><p>什么是局部故障。在一个微服务架构系统中，当某个微服务不可用时，会发生局部故障，需要对故障进行故障处理。所有的分布式系统都有这个问题。如何处理局部故障取决于特定的方案和哪些服务发生故障。</p><p>API 返回缓存数据也是处理局部故障的方式，当数据变化不大并且数据不可用时，可以返回缓存数据。</p><h2 id="第三章-进程间通信"><a class="anchor" href="#第三章-进程间通信">#</a> 第三章 - 进程间通信</h2><p>由于微服务是部署在多台机器上的分布式系统，每个服务实例都是一个进程，因此在不同进程间通信在微服务部署中扮演重要的角色。</p><h3 id="交互方式"><a class="anchor" href="#交互方式">#</a> 交互方式</h3><p>交互方式通常分为一对一和一对多：</p><ul><li>一对一：每个客户端请求都有一个服务实例处理</li><li>一对多：每个客户端请求有多个服务实例处理</li></ul><p>交互方式是同步的还是异步的：</p><ul><li>同步：要求服务及时响应，会发生阻塞</li><li>异步：不会发生阻塞，因此请求不一定得到响应</li></ul><p>根据上述交互方式，大致可分为几种情况：<br><strong>一对一：请求 / 响应、通知、请求 / 异步响应</strong><br><strong>一对多：发布 / 订阅、发布 / 异步响应</strong></p><h3 id="定义api"><a class="anchor" href="#定义api">#</a> 定义 API</h3><p>定义 api 取决于你使用何种 ipc 机制。</p><h3 id="演化api"><a class="anchor" href="#演化api">#</a> 演化 API</h3><p>微服务的 api 演化是非常困难的，新版本的微服务需要兼容低版本的客户端。</p><h3 id="处理局部故障-2"><a class="anchor" href="#处理局部故障-2">#</a> 处理局部故障</h3><p>先不考虑、带补充（🐶</p><h3 id="ipc技术"><a class="anchor" href="#ipc技术">#</a> IPC 技术</h3><ul><li>基于同步请求 / 响应的通信机制（基于 HTTP 的 REST）</li><li>基于消息的异步通信机制（AMQP 或 STOMP）</li></ul><h4 id="异步-基于消息的通信"><a class="anchor" href="#异步-基于消息的通信">#</a> 异步、基于消息的通信</h4><p>进程通过异步交换消息进行通信。客户端通过发送消息向服务端发出请求；服务端如果需要回复，则向客户端发送单独的消息来实现。由于异步，客户端不会阻塞等待回复。</p><p>消息有 header 和 body 组成。两端 endpoint 通过 channel 连接。</p><ul><li><p>message channel：一端写，可以在另一端读。writer 不需要知道 reader 是哪个具体的应用<br>type：point to point 、publish-subscribe</p></li><li><p>point to point ：一对一</p></li><li><p>publish-subscribe：一对多，把消息发布给所有注册订阅的消费者。</p></li></ul><p>message channel 是非常值的研究的技术，之后会单开一篇文章来介绍常用的 message channel 的设计模式。</p><h4 id="同步的请求响应ipc"><a class="anchor" href="#同步的请求响应ipc">#</a> 同步的请求 / 响应 IPC</h4><p>和单体模式下的请求形式差不多：REST HTTP</p><h2 id="第四章-服务发现"><a class="anchor" href="#第四章-服务发现">#</a> 第四章 - 服务发现</h2><p>由于微服务架构中的自动缩扩容问题，需要客户端进行更精确的服务发现机制，而不是简单地通过 ip 来确定。</p><h3 id="客户端发现模式-client-side-service-discovery"><a class="anchor" href="#客户端发现模式-client-side-service-discovery">#</a> 客户端发现模式 Client-side service discovery</h3><p><img data-src="serverdiscovery.png" alt="服务发现问题"></p><p>查询服务缓存，可以知道服务 Location</p><div class="tags"><a href="/tags/microservice/" rel="tag"><i class="ic i-tag"></i> microservice</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2024-10-25 20:08:22" itemprop="dateModified" datetime="2024-10-25T20:08:22+08:00">2024-10-25</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Cai Junyuan WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Cai Junyuan Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Cai Junyuan PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Cai Junyuan <i class="ic i-at"><em>@</em></i>Blog</li><li class="link"><strong>Post link: </strong><a href="http://smallcjy.github.io/2024/09/23/%E5%BE%AE%E6%9C%8D%E5%8A%A1Learning/" title="microservice learning">http://smallcjy.github.io/2024/09/23/微服务Learning/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/09/20/nps%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E9%83%A8%E7%BD%B2%E6%9C%AC%E5%9C%B0%E7%89%A9%E7%90%86MC%E6%9C%8D%E5%8A%A1%E5%99%A8/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s21.ax1x.com&#x2F;2024&#x2F;07&#x2F;18&#x2F;pkoWbsx.png" title="nps内网穿透部署本地物理MC服务器"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>nps内网穿透部署本地物理MC服务器</h3></a></div><div class="item right"><a href="/2024/09/23/202410OKR%E5%88%B6%E5%AE%9A/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s21.ax1x.com&#x2F;2024&#x2F;07&#x2F;18&#x2F;pkoWXdO.jpg" title="2024十月份OKR制定"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>2024十月份OKR制定</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B"><span class="toc-number">2.</span> <span class="toc-text">微服务简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8%E7%9A%84%E5%9C%B0%E7%8B%B1"><span class="toc-number">2.1.</span> <span class="toc-text">单体应用的地狱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%A7%A3%E5%86%B3%E5%A4%8D%E6%9D%82%E9%97%AE%E9%A2%98"><span class="toc-number">2.2.</span> <span class="toc-text">微服务 —— 解决复杂问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">2.3.</span> <span class="toc-text">微服务的缺点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#api-gateway"><span class="toc-number">3.</span> <span class="toc-text">API Gateway</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%9B%B4%E6%8E%A5%E9%80%9A%E4%BF%A1"><span class="toc-number">3.1.</span> <span class="toc-text">客户端与微服务的直接通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8api-gateway"><span class="toc-number">3.2.</span> <span class="toc-text">使用 API gateway</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#api-gateway%E7%9A%84%E4%BC%98%E5%8A%A3"><span class="toc-number">3.3.</span> <span class="toc-text">API gateway 的优劣</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0api%E7%BD%91%E5%85%B3"><span class="toc-number">3.4.</span> <span class="toc-text">实现 API 网关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8"><span class="toc-number">3.4.1.</span> <span class="toc-text">服务调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0"><span class="toc-number">3.4.2.</span> <span class="toc-text">服务发现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%B1%80%E9%83%A8%E6%95%85%E9%9A%9C"><span class="toc-number">3.4.3.</span> <span class="toc-text">处理局部故障</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="toc-number">4.</span> <span class="toc-text">第三章 - 进程间通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92%E6%96%B9%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">交互方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89api"><span class="toc-number">4.2.</span> <span class="toc-text">定义 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E5%8C%96api"><span class="toc-number">4.3.</span> <span class="toc-text">演化 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%B1%80%E9%83%A8%E6%95%85%E9%9A%9C-2"><span class="toc-number">4.4.</span> <span class="toc-text">处理局部故障</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ipc%E6%8A%80%E6%9C%AF"><span class="toc-number">4.5.</span> <span class="toc-text">IPC 技术</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5-%E5%9F%BA%E4%BA%8E%E6%B6%88%E6%81%AF%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">4.5.1.</span> <span class="toc-text">异步、基于消息的通信</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E7%9A%84%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94ipc"><span class="toc-number">4.5.2.</span> <span class="toc-text">同步的请求 &#x2F; 响应 IPC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0"><span class="toc-number">5.</span> <span class="toc-text">第四章 - 服务发现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%91%E7%8E%B0%E6%A8%A1%E5%BC%8F-client-side-service-discovery"><span class="toc-number">5.1.</span> <span class="toc-text">客户端发现模式 Client-side service discovery</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Cai Junyuan" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Cai Junyuan</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">57</span> <span class="name">posts</span></a></div><div class="item tags"><a href="/tags/"><span class="count">15</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NtYWxsY2p5" title="https:&#x2F;&#x2F;github.com&#x2F;smallcjy"><i class="ic i-github"></i></span> <a href="/2628035541@qq.com" title="2628035541@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>About</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/09/20/nps%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E9%83%A8%E7%BD%B2%E6%9C%AC%E5%9C%B0%E7%89%A9%E7%90%86MC%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/09/23/202410OKR%E5%88%B6%E5%AE%9A/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/18/%E8%AE%A1%E7%BD%91IP%E5%B1%82/" title="计网IP层">计网IP层</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8EUML/" title="设计模式与UML">设计模式与UML</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/05/16/%E9%97%B4%E6%8E%A5%E6%80%A7%E5%8E%9F%E5%88%99/" title="间接性原则">间接性原则</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/22/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-Lexical/" title="编译原理--Lexical">编译原理--Lexical</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/18/%E7%8E%AF%E5%BD%A2%E5%88%97%E8%A1%A8%E7%9A%84%E6%8E%A2%E6%9F%A5/" title="环形列表的探查">环形列表的探查</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/10/24/ubuntu%E6%B3%A8%E5%86%8C%E7%A8%8B%E5%BA%8F%E4%B8%BA%E6%9C%8D%E5%8A%A1/" title="ubuntu注册程序为服务">ubuntu注册程序为服务</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/07/27/Loopback%E7%BD%91%E5%8D%A1%E5%AE%9E%E7%8E%B0/" title="Loopback回环网卡设备实现">Loopback回环网卡设备实现</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/10/10/9%E6%9C%88%E4%BB%BDOKR%E6%80%BB%E7%BB%93/" title="9月份OKR总结">9月份OKR总结</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/10/25/dragonOS_unix_socket%E6%96%87%E6%A1%A3/" title="unix socket文档">unix socket文档</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/06/22/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-C-F-G/" title="编译原理--C.F.G">编译原理--C.F.G</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Cai Junyuan @ SmallC</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/09/23/微服务Learning/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->