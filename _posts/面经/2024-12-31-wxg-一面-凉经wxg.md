---
title: wxg一面凉经
date: 2024-12-30 10:48:31
tags: [面试]
---

12月30日，本人大学生涯第一次参加求职面试，面试的公司是tx的wxg。有言道：出师未捷身先死，这次面试也就在我的经验不足下草草结束。先来复盘一下面试过程。

首先上来就让写四道算法题，很标准的kpi面模式。

- 两个有序数组找最小差值
- 字符串解码（栈）
- 一个数组内能两个组成最大的数
- 二叉有序树找第k大的节点

里面只有字符串编码是leetcode原题，其他是内部题库，很遗憾只写出来字符串编码。

再来看看八股，八股问题非常少，估计是看了算法能力不行（唉算法基本功确实不扎实，但本人有不是很像弄算法，开发要什么算法

1. cpp智能指针

分别介绍了三种智能指针，很简单

2. cpp虚函数

介绍了虚函数指针和虚表指针，和它们在内存中的布局，如何实现多态。也很简单

3. 进程和线程的区别

不是这就到操作系统吗？真就不想面了

区别主要有三点：
- 进程是资源分配的基本单位，线程是cpu调度的基本单位
- 线程在进程中创建，同一个进程内的所有线程共享进程的内存资源（如堆区，代码段，数据段，bss段，打开的文件资源，但是每个线程有自己的线程栈
- cpu调度的是线程，而不是进程。每个线程都有独立的寄存器和栈，有自己独立的状态（运行态、就绪态、阻塞态，能够被内核调度。
- 进程的切换开销要大于线程的切换开销。这是因为进程创建时需要向内核申请资源（包括一个页表基地址，父进程的页表拷贝等这些都需要消耗大量的时间；但线程只有自己独立的栈和寄存器，线程的创建需要申请的资源较少，线程切换的效率也就更高。

4. 轻量级线程在cpp中可以调用什么库来获得（wdf

查了下gpt，说是boost fiber，闻所未闻

5. 那能介绍一下协程（轻量级线程）吗？

协程 / coroutines 是比线程更加轻量级的存在，所以也被称为轻量级线程。我们知道有种线程叫做用户级线程，他对内核不可见，调度的过程全在用户程度中完成。协程可以理解为线程的用户级线程。协程的调度不需要进入内核态，且独占的资源也只有寄存器和协程栈，上下文的开销甚至比线程还要小。协程的上下文开销是由用户自己控制的，用户自己选择在什么时候挂起协程，什么时候唤醒协程。

然后我们来看下协程的调度，协程的调度和线程的调度方式非常类似，区别只是线程的调度器在内核，协程的调度器在用户程序。

![alt text](assets/img/2024-12-31-wxg-一面-凉经wxg/image.png)

协程同样具有运行态阻塞态、就绪态，调度模型基本上是优先级多级反馈调度模型。执行单元worker是一个或多个线程。

到这里八股部分也就结束了。

最后是项目，讲实话，以后的面试不能把dragonos放在简历的第一个项目了，首先dragonos本身非常复杂，你做的东西基本上不可能从0开始，要和其他的模块进行联动，但是其他的模块不看代码是很难把这个联动关系讲清楚的，如果面试官本身是一个不懂内核的人，那就是更讲不清楚了。把一个技术难点讲清楚是我现在非常欠缺的能力。

项目就介绍了下sysalarm的实现，但是定时器那块他想听怎么实现，但我是直接调用的。