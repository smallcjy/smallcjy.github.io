---
title: 场景服务--MMO服务器开发技术点记录
date: 2025-08-06 16:30:31
tags: [游戏后台]
---

## Service / 服务

服务器其实也可以称为一个服务，为客户端提供某些功能。通常一个服务会运行在一个端口上供客户端访问。像下面我们要深入的场景服务，是一个独立运行的单点服务。游戏服务器涉及的服务通常还包括登录服务，大厅服务等。服务类继承自TcpServer类，属于应用层，与网络层解耦开来。这里可以设计一个连接器的接口，实现服务可以自定义所需的通信协议，如TCP、UDP、Websocket等。

## 场景服务

什么是场景服务？客户端的同学都知道，Unity中有个专门的部分称为场景，负责呈现游戏玩家所处的环境。服务器的场景也是如此，需要提供一个场景，玩家在场景中能够看见彼此，观察到这个共享的环境。后续玩家的事件，如移动、战斗、交互都会发生在场景中，影响场景的状态。

### Player / 玩家状态

在定义我们的场景状态前，我们先定义下玩家状态。玩家状态类继承于TcpConnection，一个客户端连接代表一个玩家状态。