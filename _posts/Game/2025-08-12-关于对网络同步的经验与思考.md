---
title: 关于网络同步的经验与思考
date: 2025-08-12 16:30:31
tags: [游戏后台]
---

## 前言

截至目前，笔者也接触了一些游戏项目的开发，接触过一些网络同步方案，在这里做个总结以及提出一些自己的思考。笔者目前接触的网络同步方案大致划分为三种：快照同步、状态同步和帧同步。具体采用什么方案，需要根据游戏需求以及服务器的架构需求来指定，而不是盲目的选择。

## 快照同步
这是笔者接触比较多的同步方法，也是三种同步方案中最为简单的。快照同步常用于逻辑简单的游戏，多为房间类型的休闲游戏，卡牌游戏等，游戏状态比较简单，状态修改也多位于服务端。由于游戏的状态比较少，将游戏状态整理成一张张快照，主动或被动的更新给客户端。

就以房间类休闲类游戏来看，游戏的状态大致可以划分成房间状态、玩家状态集合、游戏进程状态这三张快照；

房间快照多储存一些全局性质的信息，比如游戏的基本信息（回合数、玩家数量、定时器id之类的）和游戏相关元数据（游戏规则、游戏配置等）；

玩家状态快照则记录玩家的状态，包括玩家的基本状态（比如通用的玩家基本信息，如血量、蓝量、准备状态之类的）、游戏状态（涉及游戏序列的数据状态）；

游戏进程状态快照则记录整个游戏进程的信息，描述当时游戏进程的信息集合，是和游戏需求最为相关的快照。通过客户端传送请求触发游戏进程状态的改变，并且同步到所有的玩家。

对于快照的同步，存在服务端主动同步和被动同步两种触发方式。主动模式多为新的玩家实体加入游戏时，由客户端触发，获取能够渲染整个游戏的快照信息；被动模式则是在快照在被客户端请求更新时，将快照主动推送给客户端，客户端接收后立刻更新游戏页面的渲染。

在游戏逻辑不复杂的情况下，快照同步是比较合适的方案，可以在较小的开发压力下实现基本的网络同步需求。但是如果快照信息过于庞大，或者游戏逻辑复杂，快照同步可能会导致性能问题，此时需要考虑其他同步方案。

## 帧同步方案

帧同步方案我写过一篇详细的文章去介绍，[帧同步方案详解](https://smallcjy.github.io/posts/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%E5%B8%A7%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%9E%B6%E6%9E%84/)。这里提出一些我的理解和思考。

