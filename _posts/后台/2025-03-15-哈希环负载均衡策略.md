---
title: 哈希环负载均衡策略
date: 2025-03-24 16:30:31
tags: [后台]
---

## 思想
负载均衡的算法有很多，比如轮询、随机、时间片轮转等等。这里我想介绍一个负载均衡的思想，叫哈希一致性负载均衡。哈希一致性负载均衡的决策重点在于输入的哈希值，输入会被哈希到某个服务节点上。哈希一致性的特点是下一次相同的输入到来时，仍然会被hash到同一个服务节点上，这样的好处是对于同一个用户，始终访问一个服务，该服务上的redis缓存命中的概率大大提高。

## 进阶用法
为什么选用哈希一致性算法呢？手中有个业务场景是这样的，一个服务集群被划分为多个地区，用户会选择不同的地区，需求是希望同一个地区的用户访问的服务节点始终是那个地区的服务集群，这里就需要到哈希一致性负载均衡，使得带有地区标识的输入会被hash到该地区的节点。