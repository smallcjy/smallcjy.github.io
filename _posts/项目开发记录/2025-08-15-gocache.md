---
title: GoCache技术点记录
date: 2025-02-22 19:30:31
tags: [项目开发记录, Go]
---

## 简历描述
Cachelyt

项目描述：分布式缓存，其可以作为单独服务部署，亦可以作为一个lib来用，实现了分布式缓存节点通信机制，并发访问控制机制，同时在原项目的基础上，增加了热点互备，TTL机制，基于etcd的服务注册发现等功能

主要工作：
1. 实现基本kv缓存服务并具备持久化能力

   【1】实现基本缓存服务，包括读写缓存服务，支持多种值数据类型；
   【2】设计持久化日志结构，实现缓存数据的日志形式持久化存储，实现磁盘空间回收机制；
   【3】使用跳表实现日志索引，提高日志文件内日志检索效率；
   【4】实现Zset并在其基础上实现TTL机制使得可以定期清理过期缓存；
   【5】使用策略设计模式实现多种缓存淘汰策略，提供自定义缓存淘汰策略能力；
   【6】实现客户端服务端并发通信机制，实现客户端基本命令行指令能力；

2. 实现基本分布式框架，实现集群部署能力；
   
   【1】实现分布式缓存节点通信机制，采用protobuf设计通信消息协议，grpc作为节点网络通信框架实现节点服务；
   【2】实现分布式缓存的负载均衡，解决Key路由和缓存雪崩问题，使用SingleFlight算法防止缓存击穿问题；
   【3】实现基于ETCD的缓存服务注册和发现，解决需要手动处理集群变化问题；